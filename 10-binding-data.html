<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3.js Demo</title>
</head>


<body>
    
    <button onclick="addNewClient()">Add new client</button>
    <button onclick="removeClient()">Remove last client</button>
    <div id="container"></div>

</body>


<script src="d3/d3.min.js"></script>

<script>

    let container = d3.select("#container")
    let clients = [{
        name: "Client0"
    }]
    let count = 1


    function addNewClient() {
        clients.push({name: "Client" + count})
        count += 1
        showData(clients)
    }

    function removeClient() {
        clients = clients.slice(0, -1)
        count -= 1
        showData(clients)
    }

    function showData(clients) {
        let join = container
            .selectAll("div")
            .data(clients)
        join.enter()
            .append("div")
            .text(d => d.name + " - New")
        join.exit().remove()
        join.text(d => d.name + " - Updated")

    }

    showData(clients)




</script>

</html>